### What are file upload vulnerabilities?
بتحصل الثغرات دي بسبب ان السيرفر او الباك اند مش عامل اي عملية تحقق علي الملفات المرفوعة او لو عامل فهي بتبقا ضعيفة نسبيا وسهل اختراقها وايجاد ثغرة فيها!

طيب اي المشكلة يعني في اني ارفع ملف علي سيرفر م انا برفع الصورة الشخصية وعادي ..
الفكرة في إن لو الموقع مش بيتحقق من نوع الملف دا هل هو صورة ولا ملف ضار زي سكريبت php (لو الموقع شغال ب php) وإنه لو نفذته السكريبت دا بقا ليا تحكم علي السيرفر خلاص! (RCE)
وبرضو عدم التحقق من حجم الملف ممكن يؤدي ل denial-of-service (DoS) attack

وكمان لو فيه ثغرة path traversal فكدا أنا اقدر ارفع الملف دي في اي مكان انا عاوزه ع السيرفر .. ودي ممكن نستغلها في اننا مثلا نرفع ملف `index.php` بدل الموجود وبالتالي يستبدل الملف تماما ويبقا اللي رفعناه هو اللي شغال ع السيرفر!

طيب عاوزين نعرف ازاي الموقع بيهندل الملفات اللي بتطلبها دي يعني لما تطلب صورة مثلا اي اللي بيحصل؟
بكل إختصار هو بيعرض محتوي الملف بشكل مباشر ايا كان صورة او فيديو او حتي ملف .txt

طيب لو ملف php والسيرفر شغال ب php؟
هنا في احتمالين ملهمش تالت:
1. السيرفر معدل بشكل انه يرد عليك بإنه يعرض الملف متنفذ الكود اللي فيه
2. السيرفر مش هينفذ الكود فأما يطلع error او هيعتبر الملف عادي فهيطبع محتواه عادي
يعني في الاولي لو انت رافع ملف بالشكل دا:

```php
echo "You got hacked :)"
```
المفروض اللي يظهر في المتصفح اي؟ بالظبط You got hacked :)

طيب في الحالية التانية؟
هيطبعه زي ما هو:

```php
echo "You got hacked :)"
```

ودي ممكن نحاول نستغلها في اننا نقرأ محتوي ملف معين داخل السيرفر